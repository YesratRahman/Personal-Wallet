<mat-card class="main-div">

    <div id="enter-expense">
        <form #f="ngForm" novalidate (ngSubmit)="save(f.value, f.valid, f)">
            <div *ngIf="isLoading">
            </div>
            <mat-card>
                <mat-card-title>Enter Expense</mat-card-title>
                <mat-card-header>
                    <mat-card-subtitle>
                        Enter required fields to save a new expense
                    </mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                    <div class="row">

                        <div class="col-sm-6">
                            <mat-form-field class="example-full-width">
                                <input matInput matInput placeholder="Expense Amount" type="number" min="1" name="expenseAmount" [(ngModel)]="expenseAmount" (blur)="formatAmount()" #amount="ngModel" required>
                                <span matPrefix>$&nbsp;</span>
                                <span matSuffix>.00</span>
                            </mat-form-field>
                            <div *ngIf="amount.errors && (amount.dirty || amount.touched)" class="alert alert-danger">
                                <small>Amount is required (positive amount, max 2 decimal places).</small>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <mat-form-field>
                                <input matInput [matDatepicker]="picker" placeholder="Expense date" [(ngModel)]="spentDate" name="spentDate" #date="ngModel" required>
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker touchUi #picker></mat-datepicker>
                            </mat-form-field>
                            <div *ngIf="dateError" class="alert alert-danger">
                                <small> Date is required. </small>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-sm-6">
                            <mat-form-field>
                                <mat-label>Expense category</mat-label>
                                <mat-select [(ngModel)]="category" name="category" #categoryCon="ngModel" required>
                                    <mat-option value="Groceries">Groceries</mat-option>
                                    <mat-option value="Advertising">Advertising</mat-option>
                                    <mat-option value="Vehicle">Vehicle</mat-option>
                                    <mat-option value="Education">Education</mat-option>
                                    <mat-option value="Insurance">Insurance</mat-option>
                                    <mat-option value="Dinnig">Dinning</mat-option>
                                    <mat-option value="Rent">Rent</mat-option>
                                    <mat-option value="Travel">Travel</mat-option>
                                    <mat-option value="Utilities">Utilities</mat-option>
                                    <mat-option value="Office">Office</mat-option>
                                    <mat-option value="Miscellaneous">Other</mat-option>
                                </mat-select>
                            </mat-form-field>
                            <div *ngIf="categoryCon.errors && (categoryCon.dirty || categoryCon.touched)" class="alert alert-danger">
                                <small>Category is required.</small>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <mat-form-field>
                                <mat-label>Expense Description</mat-label>
                                <input matInput placeholder="Description" type="text" name="description" [(ngModel)]="description" #descriptionCon="ngModel" required>
                            </mat-form-field>
                            <div *ngIf="descriptionCon.errors && (descriptionCon.dirty || descriptionCon.touched)" class="alert alert-danger">
                                <small>Description is required.</small>
                            </div>
                        </div>
                    </div>
                </mat-card-content>

                <mat-card-actions>
                    <div class="d-flex justify-content-end">
                        <button type="button" mat-button color="primary" (click)="clearForm(f)">Reset</button>
                        <button type="button" mat-raised-button color="primary" (click)="onSubmit()" [disabled]="!f.form.valid">
                          <mat-icon>save</mat-icon>Save
                        </button>
                    </div>
                </mat-card-actions>

            </mat-card>
        </form>
    </div>
</mat-card>



<!-- 



<div class="mat-card">
  <div class="mat-card-content">
    <div >
      <h2>Add Expense</h2>

      <label for="expenseAmount" class="col-md-4"> Enter Expense Amount </label>
      <mat-form-field appearance="fill">
        <mat-label>Amount</mat-label>
        <input matInput type="number" class="example-right-align" placeholder="Enter Expense Amount"
          [(ngModel)]="expenseAmount">
        <span matPrefix>$&nbsp;</span>
        <span matSuffix>.00</span>
      </mat-form-field>
      <br />

      <label for="category" class="col-md-4"> Enter Expense Category </label>
      <mat-form-field appearance="fill">
        <mat-label>Category</mat-label>
        <mat-select [(ngModel)]="category">
          <mat-option value="Advertising">Advertising</mat-option>
          <mat-option value="Vehicle" >Vehicle</mat-option>
          <mat-option value="Education" >Education</mat-option>
          <mat-option value="Insurance" >Insurance</mat-option>
          <mat-option value="Dinnig" >Dinning</mat-option>
          <mat-option value="Rent" >Rent</mat-option>
          <mat-option value="Travel" >Travel</mat-option>
          <mat-option value="Utilities" >Utilities</mat-option>
          <mat-option value="Office" >Office</mat-option>
        </mat-select>
      </mat-form-field>
      <br />

      <label for="description" class="col-md-4"> Enter Description </label>
      <mat-form-field appearance="fill">
        <mat-label>Description</mat-label>
        <textarea matInput type="text" class="example-right-align" matInput placeholder="Enter Description" [(ngModel)]="description"></textarea>
      </mat-form-field>
      <br />
      
      <label for="spentDate" class="col-md-4"> Enter Date </label>
      <mat-form-field color="accent" appearance="fill">
        <mat-label>Choose a Date</mat-label>
        <input matInput [matDatepicker]="picker2" [(ngModel)]="spentDate">
        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
        <mat-datepicker #picker2 color="primary"></mat-datepicker>
      </mat-form-field>

     
      <div class="form-group">
        <button type="button" class="btn btn-outline-primary" (click)="onSubmit()">Submit</button>
      </div>

    </div>
  </div>
</div> -->
<!-- <div class="form-group">
        <label for="spentDate" class="col-md-4"> Enter Date</label>
        <input type="text" class="form-control" placeholder="Enter Date" [(ngModel)]="spentDate" />
      </div> -->
<!-- Integer expenseId;
    Double expenseAmount;
    String description;
    LocalDate spentDate;
    Integer userId;
    List<User> user; -->